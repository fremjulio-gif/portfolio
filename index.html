<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DAW Portfolio - Jules F</title>
    <link rel="icon" type="image/png" href="moi.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700;800&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    
    <style>
        /* --- CORE VARS --- */
        :root {
            --glass-surface: rgba(18, 18, 18, 0.6);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-highlight: rgba(255, 255, 255, 0.15);
            --glass-shadow: 0 40px 80px -12px rgba(0, 0, 0, 0.8);
            --glass-text: #ffffff;
            --accent-color: #22c55e;
            --ease-ios: cubic-bezier(0.25, 1, 0.5, 1);
            --vh: 1vh; 
        }

        /* --- 1. UX & CURSOR (DESKTOP) --- */
        html, body { max-width: 100vw; overflow-x: hidden; user-select: none; -webkit-user-select: none; }
        
        @media (pointer: fine) {
            body { cursor: crosshair; }
            a, button, input, .click-sound, .project-card, .lab-row, .piano-cell, .step-btn { 
                cursor: crosshair !important; 
            }
        }

        body { 
            background-color: #050505; color: var(--glass-text); 
            transition: background-color 0.6s ease, color 0.4s ease;
            margin: 0; padding: 0;
            font-family: 'Arial', sans-serif;
        }

        /* THEME ANIMATION */
        body.switching-theme { filter: blur(12px) brightness(1.2); transform: scale(0.98); }

        /* LIGHT MODE */
        body.light-mode {
            --glass-surface: rgba(255, 255, 255, 0.2); 
            --glass-border: rgba(255, 255, 255, 0.3);
            --glass-highlight: rgba(255, 255, 255, 0.5);
            --glass-text: #1a1a1a;
            background-color: #A0A0A0;
        }
        body.light-mode .scanlines { opacity: 0.02; }
        body.light-mode .project-info { background: linear-gradient(to top, rgba(200,200,200,0.95), rgba(200,200,200,0.7), transparent); color: black; }
        body.light-mode #theme-label { color: #1a1a1a; font-weight: 800; text-shadow: none; opacity: 1; }
        
        body[data-theme='protools'] { background-color: #262626; }

        /* FONTS */
        .font-fl { font-family: 'Arial', sans-serif; }
        .font-ableton { font-family: 'Jost', sans-serif; letter-spacing: 0.02em; }
        .font-protools { font-family: 'Avenir Next', 'Helvetica Neue', sans-serif; font-weight: 500; }
        .font-tech { font-family: 'Share Tech Mono', monospace; }

        /* --- GLASS PANELS --- */
        .glass-panel {
            background: linear-gradient(145deg, var(--glass-surface) 0%, rgba(255,255,255,0.02) 100%);
            backdrop-filter: blur(50px) saturate(140%); -webkit-backdrop-filter: blur(50px) saturate(140%);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow), inset 0 1px 0 0 var(--glass-highlight), inset 0 0 20px rgba(255,255,255,0.02);
            border-radius: 32px; overflow: hidden;
            transition: transform 0.5s var(--ease-ios), border-color 0.4s ease, box-shadow 0.4s ease;
            position: relative; width: 100%;
        }
        @media (hover: hover) {
            .glass-panel:hover { border-color: var(--accent-color); transform: translateY(-8px) scale(1.01); box-shadow: 0 50px 100px -20px rgba(0,0,0,0.7), inset 0 1px 0 0 var(--glass-highlight), 0 0 0 1px var(--accent-color); }
        }

        /* --- LAYOUT --- */
        .bento-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 24px; padding: 100px 24px 140px; max-width: 1600px; margin: 0 auto; box-sizing: border-box; }
        .win-header { height: 44px; display: flex; align-items: center; justify-content: space-between; padding: 0 24px; border-bottom: 1px solid var(--glass-border); background: rgba(255,255,255,0.03); flex-shrink: 0; }
        .win-title { font-size: 11px; text-transform: uppercase; letter-spacing: 0.15em; font-weight: 800; opacity: 0.6; }

        /* --- WIDGETS --- */
        .stat-item { padding: 10px; border-radius: 20px; text-align: center; transition: 0.3s var(--ease-ios); }
        .pie-chart { width: 80px; height: 80px; border-radius: 50%; background: conic-gradient(var(--accent-color) calc(var(--percent) * 1%), rgba(255,255,255,0.05) 0); display: grid; place-items: center; margin: 0 auto 1rem; position: relative; }
        .pie-chart::after { content: ''; position: absolute; inset: 8px; background: #111; border-radius: 50%; }
        body.light-mode .pie-chart::after { background: #dcdcdc; }
        .pie-chart span { position: relative; z-index: 10; font-family: 'Share Tech Mono'; font-weight: bold; }

        .project-card { position: relative; border-radius: 20px; overflow: hidden; aspect-ratio: 4/3; border: 1px solid var(--glass-border); }
        .project-card img { width: 100%; height: 100%; object-fit: cover; transition: 0.6s var(--ease-ios); filter: brightness(0.8); }
        .project-card:hover img { transform: scale(1.05); filter: brightness(1); }
        .project-info { position: absolute; inset: 0; display: flex; flex-direction: column; justify-content: flex-end; padding: 20px; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); }

        /* --- 2. LAB WAVEFORMS --- */
        .lab-row { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid var(--glass-border); transition: 0.2s; position: relative; }
        .lab-row:hover { background: rgba(255,255,255,0.05); }
        .lab-row.playing { background: var(--accent-color); color: black; }
        .lab-info { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        
        .waveform-container { 
            width: 100%; height: 40px; background: rgba(0,0,0,0.2); 
            border-radius: 4px; overflow: hidden; position: relative; 
            cursor: crosshair;
        }
        .waveform-canvas { width: 100%; height: 100%; display: block; }
        .progress-overlay { 
            position: absolute; top: 0; left: 0; height: 100%; 
            background: rgba(255,255,255,0.2); pointer-events: none; width: 0%;
            transition: width 0.1s linear; 
        }

        /* --- 6. REFERENCE LIBRARY (LINKS) --- */
        .inspi-link { 
            text-decoration: none; display: block; 
            transition: transform 0.3s, border-color 0.3s;
            border-bottom: 1px solid transparent;
        }
        .inspi-link:hover { transform: translateX(6px); }
        .inspi-link:hover h5 { color: var(--accent-color); }
        .inspi-card { display: flex; gap: 12px; align-items: center; }
        .inspi-img { width: 60px; height: 60px; border-radius: 8px; object-fit: cover; border: 1px solid var(--glass-border); }

        /* --- DOCK & THEMES --- */
        .dock-container { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); display: flex; justify-content: center; gap: 16px; padding: 10px 24px; background: rgba(20, 20, 20, 0.7); backdrop-filter: blur(40px); border-radius: 30px; border: 1px solid var(--glass-border); z-index: 90; box-shadow: 0 20px 40px rgba(0,0,0,0.5); }
        body.light-mode .dock-container { background: rgba(255,255,255,0.4); border-color: rgba(255,255,255,0.4); }
        .dock-icon { color: rgba(255,255,255,0.7); transition: 0.3s; }
        body.light-mode .dock-icon { color: #444; }
        .dock-icon:hover { color: #fff; transform: translateY(-5px); }
        body.light-mode .dock-icon:hover { color: #000; }

        .theme-island { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(20,20,20,0.6); backdrop-filter: blur(40px); border-radius: 100px; padding: 6px; display: flex; align-items: center; gap: 12px; border: 1px solid var(--glass-border); z-index: 90; }
        .theme-pill { width: 38px; height: 38px; border-radius: 50%; display: grid; place-items: center; opacity: 0.7; transition: 0.3s; background: rgba(255,255,255,0.05); }
        .theme-pill.active { opacity: 1; border-color: var(--accent-color); box-shadow: 0 0 20px var(--accent-color); background: rgba(0,0,0,0.6); }

        /* --- SEQUENCER --- */
        #sequencer-inner { background: rgba(0,0,0,0.3); border-radius: 20px; padding: 20px; position: relative; overflow: hidden; }
        #sequencer-inner::before { content: ''; position: absolute; inset: 0; background: url('console.png'); opacity: 0.15; pointer-events: none; mix-blend-mode: overlay; filter: grayscale(100%); }
        
        .step-btn { height: 32px; width: 100%; border-radius: 6px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); transition: 0.1s; position: relative; z-index: 10; }
        .step-btn.active { background: var(--accent-color); box-shadow: 0 0 10px var(--accent-color); border-color: transparent; }
        
        .piano-cell { background: rgba(255,255,255,0.03); border-radius: 4px; transition: 0.1s; border: 1px solid transparent; position: relative; z-index: 10; }
        .piano-cell.active { background: var(--accent-color); opacity: 0.9; }
        .piano-cell.playing-col, .step-btn.playing-col { filter: brightness(1.5); }
        
        .sequencer-scroll-container { overflow-x: auto; padding-bottom: 16px; scrollbar-width: none; }
        .sequencer-track-row { min-width: 500px; }

        /* MIXER */
        .mixer-panel { max-height: 0; overflow: hidden; transition: 0.4s; background: linear-gradient(180deg, #1a1a1a, #0a0a0a); border-radius: 16px; margin-top: 10px; width: 100%; }
        .mixer-panel.open { max-height: 240px; padding: 20px; border: 1px solid rgba(255,255,255,0.1); }
        .fader-wrapper { position: relative; width: 40px; height: 120px; display: flex; justify-content: center; }
        input[type=range][orient=vertical] { appearance: none; -webkit-appearance: none; position: absolute; top: 50%; left: 50%; width: 120px; height: 30px; transform: translate(-50%, -50%) rotate(-90deg); background: transparent; }
        input[type=range][orient=vertical]::-webkit-slider-runnable-track { width: 100%; height: 8px; background: #111; border: 1px solid #333; border-radius: 99px; }
        input[type=range][orient=vertical]::-webkit-slider-thumb { -webkit-appearance: none; height: 20px; width: 30px; background: #555; margin-top: -6px; border-radius: 4px; border: 1px solid #000; box-shadow: 0 4px 5px rgba(0,0,0,0.8); position: relative; z-index: 2; }

        /* UTILS */
        #start-screen { position: fixed; inset: 0; z-index: 100; background: #050505; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: 0.8s; }
        #start-screen.hidden-screen { opacity: 0; pointer-events: none; }
        .loading-container { width: 220px; height: 6px; background: rgba(255,255,255,0.1); border-radius: 99px; overflow: hidden; margin-top: 20px; }
        .loading-bar { height: 100%; width: 0%; background: var(--accent-color); animation: load 2s ease-out forwards; }
        @keyframes load { 100% { width: 100%; } }
        
        #theme-bg { position: fixed; inset: 0; z-index: -2; background-size: cover; background-position: center; opacity: 0.6; filter: blur(8px) saturate(1.1); transition: 0.8s; }
        .scanlines { position: fixed; inset: 0; z-index: -1; pointer-events: none; background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.2) 50%); background-size: 100% 4px; opacity: 0.1; }

        /* VISION MODAL */
        #vision-modal { transition: opacity 0.3s; }
        #vision-modal.hidden { opacity: 0; pointer-events: none; }
        .vision-bar-container { background: rgba(255,255,255,0.1); height: 8px; border-radius: 4px; overflow: hidden; width: 100%; }
        .vision-bar-fill { height: 100%; background: var(--accent-color); width: 0%; transition: width 1s; }

        @media (max-width: 1024px) {
            .bento-grid { display: flex; flex-direction: column; padding: 80px 16px; }
            .col-span-12, .col-span-5, .col-span-7 { width: 100%; }
            .hero-name { font-size: 3.5rem; line-height: 1; }
        }
    </style>
</head>
<body class="font-fl selection:bg-white selection:text-black" data-theme="fl">

    <div id="start-screen">
        <div onclick="startExperience()" class="cursor-pointer flex flex-col items-center group">
            <h2 class="font-tech text-[var(--accent-color)] text-xl tracking-[0.3em] mb-2">LOADING PROJECT</h2>
            <div class="font-mono text-xs text-gray-500 mb-6">Tap anywhere to Initialize Audio</div>
            <div class="loading-container"><div class="loading-bar"></div></div>
            <div class="mt-8 text-[10px] text-gray-600 font-mono opacity-50">JULES_FREMONDIERE_V2.0.exe</div>
        </div>
    </div>

    <div id="theme-bg"></div>
    <div class="scanlines"></div>

    <div class="theme-island" id="theme-widget">
        <span id="theme-label" class="text-[10px] font-mono uppercase tracking-widest opacity-90 hidden md:block pt-1 drop-shadow-sm transition-colors duration-300">Pick your theme</span>
        <div class="flex gap-2">
            <button class="theme-pill click-sound" onclick="setTheme('fl')"><img src="logo_flstudio.png" alt="FL" class="object-contain"></button>
            <button class="theme-pill click-sound" onclick="setTheme('ableton')"><img src="logo_ableton.png" alt="Live" class="object-contain"></button>
            <button class="theme-pill click-sound" onclick="setTheme('protools')"><img src="logo_protools.png" alt="PT" class="object-contain"></button>
        </div>
    </div>

    <main class="bento-grid">
        
        <section id="hero" class="col-span-12 glass-panel p-6 md:p-10 flex flex-col justify-center items-center text-center min-h-[80vh] md:min-h-[50vh]">
            <span class="inline-block px-4 py-1.5 rounded-full border border-[var(--glass-border)] bg-white/5 text-[10px] uppercase tracking-[0.2em] mb-8">Portfolio 2026</span>
            <h1 class="text-4xl md:text-6xl lg:text-8xl font-black tracking-tight mb-4 text-[var(--accent-color)] leading-[1.1] drop-shadow-2xl">Jules Fr√©mondi√®re</h1>
            <div class="inline-block bg-[var(--accent-color)]/10 border border-[var(--accent-color)] text-[var(--accent-color)] px-5 py-2 rounded-full text-xs font-bold uppercase tracking-widest animate-pulse mb-6">üî¥ En recherche de stage</div>
            <p class="text-xl md:text-2xl lg:text-4xl opacity-80 font-light tracking-wide max-w-4xl mx-auto mt-2 leading-snug">√âtudiant Ing√©nieur du son & Sound Designer</p>
            <a href="mailto:jules.fremondiere@3is.fr" class="block mt-4 text-base md:text-lg text-[var(--glass-text)] opacity-60 hover:opacity-100 font-mono transition leading-normal">jules.fremondiere@3is.fr</a>
            
            <div class="mt-10 flex flex-col items-center gap-6 justify-center w-full md:w-auto px-4 md:px-0">
                <div class="flex gap-4">
                    <a href="#contact" class="px-8 py-4 rounded-full bg-[var(--accent-color)] text-black font-bold text-sm hover:scale-105 transition transform click-sound shadow-lg">ME CONTACTER</a>
                    <a href="CV_FREMONDIEREJULES.pdf" download class="px-8 py-4 rounded-full border border-[var(--glass-border)] hover:bg-white/10 font-medium text-sm transition click-sound flex items-center justify-center gap-2">CV</a>
                </div>
            </div>
        </section>

        <section id="skills" class="col-span-12 lg:col-span-5 glass-panel flex flex-col">
            <div class="win-header shrink-0"><span class="win-title">Stats & Skills.sys</span><div class="flex gap-2"><div class="w-2.5 h-2.5 rounded-full bg-white/20"></div></div></div>
            <div class="p-6 md:p-8 grid grid-cols-2 gap-x-6 gap-y-10 items-start justify-items-center flex-1">
                <div class="stat-item"><div class="pie-chart" style="--percent: 66"><span>66%</span></div><h4 class="text-sm font-bold uppercase text-[var(--accent-color)]">Mixage</h4></div>
                <div class="stat-item"><div class="pie-chart" style="--percent: 70"><span>70%</span></div><h4 class="text-sm font-bold uppercase text-[var(--accent-color)]">Compo</h4></div>
                <div class="stat-item"><div class="pie-chart" style="--percent: 40"><span>40%</span></div><h4 class="text-sm font-bold uppercase text-[var(--accent-color)]">Repair</h4></div>
                <div class="stat-item"><div class="pie-chart" style="--percent: 70"><span>70%</span></div><h4 class="text-sm font-bold uppercase text-[var(--accent-color)]">Record</h4></div>
                
                <button onclick="openVision()" class="col-span-2 mt-4 px-6 py-4 rounded-2xl border border-[var(--glass-border)] bg-white/5 hover:bg-white/10 transition w-full shadow-lg hover:border-[var(--accent-color)] flex justify-center items-center gap-2 group">
                    <span class="text-xs font-mono uppercase tracking-widest text-[var(--accent-color)] group-hover:scale-105 transition">üìÇ Ouvrir Vision.dmg</span>
                </button>
            </div>
        </section>

        <section id="parcours" class="col-span-12 lg:col-span-7 glass-panel h-[600px] flex flex-col">
            <div class="win-header"><span class="win-title">Timeline.log</span></div>
            <div class="p-8 overflow-y-auto flex-1 custom-scrollbar">
                <div class="border-l border-white/10 pl-8 space-y-12">
                    <div class="relative"><div class="absolute -left-[37px] top-1 w-4 h-4 rounded-full border-2 border-[var(--accent-color)] bg-[#111]"></div><span class="text-xs font-mono text-[var(--accent-color)]">2023-2026</span><h3 class="text-xl font-bold">3iS - Institut International</h3><p class="text-sm opacity-60">Bachelor Son</p></div>
                    <div class="relative"><div class="absolute -left-[37px] top-1 w-4 h-4 rounded-full border-2 border-white/20 bg-[#111]"></div><span class="text-xs font-mono opacity-50">2023</span><h3 class="text-xl font-bold">Service Civique</h3><p class="text-sm opacity-60">Thermog√®ne M√©dia</p></div>
                    <div class="relative"><div class="absolute -left-[37px] top-1 w-4 h-4 rounded-full border-2 border-white/20 bg-[#111]"></div><span class="text-xs font-mono opacity-50">2022</span><h3 class="text-xl font-bold">BAC STI2D</h3></div>
                    <div class="relative"><div class="absolute -left-[37px] top-1 w-4 h-4 rounded-full border-2 border-white/20 bg-[#111]"></div><span class="text-xs font-mono opacity-50">2018-2022</span><h3 class="text-xl font-bold">Autodidacte</h3><p class="text-sm opacity-60">Exploration MAO</p></div>
                </div>
            </div>
        </section>

        <section id="projets" class="col-span-12 glass-panel">
            <div class="win-header"><span class="win-title">explorer.prproj</span></div>
            <div class="p-8">
                <h3 class="text-3xl font-black mb-8 flex items-center gap-2"><span class="text-[var(--accent-color)]">///</span> Projets</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <a href="https://youtu.be/9UOw2Qhdke0" target="_blank" class="project-card group"><img src="https://img.youtube.com/vi/9UOw2Qhdke0/hqdefault.jpg"><div class="project-info"><h4 class="text-2xl font-bold">Je suis la fum√©e...</h4><p class="text-sm opacity-80">Court-m√©trage</p></div></a>
                    <a href="https://on.soundcloud.com/XCZ6FO4IZUqG5q24R6" target="_blank" class="project-card group"><img src="cover.jpg" class="object-cover object-bottom"><div class="project-info"><h4 class="text-2xl font-bold">Srh - qutumeregardes</h4><p class="text-sm opacity-80">Mix & Master</p></div></a>
                    <a href="https://www.youtube.com/watch?v=D-x6BQSPRuA" target="_blank" class="project-card group"><img src="https://img.youtube.com/vi/D-x6BQSPRuA/maxresdefault.jpg"><div class="project-info"><h4 class="text-2xl font-bold">Capharna√ºm</h4><p class="text-sm opacity-80">Sound Design</p></div></a>
                    <a href="https://www.youtube.com/watch?v=1RaxSos9wtk" target="_blank" class="project-card group"><img src="https://img.youtube.com/vi/1RaxSos9wtk/hqdefault.jpg"><div class="project-info"><h4 class="text-2xl font-bold">IVY</h4><p class="text-sm opacity-80">Remix</p></div></a>
                </div>
            </div>
        </section>

        <section id="lab" class="col-span-12 glass-panel relative z-20">
             <div class="win-header"><span class="win-title">lab_records.sh</span><div class="flex gap-2"><div class="w-2.5 h-2.5 rounded-full bg-white/20"></div></div></div>
            <div class="p-6 font-mono">
                <div class="flex items-center gap-3 mb-6 text-[var(--accent-color)]"><span class="animate-pulse">‚óè</span><span class="text-sm tracking-widest uppercase">Live Monitoring</span></div>
                <div class="space-y-4">
                    <div class="lab-row" data-src="rover.mp3">
                        <div class="lab-info"><div class="flex gap-3"><button class="play-btn-lab" onclick="togglePlayTrack(this)">‚ñ∂</button><div><h4 class="text-sm font-bold">rover.mp3</h4><p class="text-[10px] opacity-50">Ambient</p></div></div><span class="text-xs opacity-50">02:14</span></div>
                        <div class="waveform-container" onclick="seekTrack(event, this)"><canvas class="waveform-canvas"></canvas><div class="progress-overlay"></div></div>
                    </div>
                     <div class="lab-row" data-src="wordsnight.mp3">
                        <div class="lab-info"><div class="flex gap-3"><button class="play-btn-lab" onclick="togglePlayTrack(this)">‚ñ∂</button><div><h4 class="text-sm font-bold">wordsnight.mp3</h4><p class="text-[10px] opacity-50">Lo-fi</p></div></div><span class="text-xs opacity-50">01:45</span></div>
                        <div class="waveform-container" onclick="seekTrack(event, this)"><canvas class="waveform-canvas"></canvas><div class="progress-overlay"></div></div>
                    </div>
                     <div class="lab-row" data-src="shadow.mp3">
                        <div class="lab-info"><div class="flex gap-3"><button class="play-btn-lab" onclick="togglePlayTrack(this)">‚ñ∂</button><div><h4 class="text-sm font-bold">shadow.mp3</h4><p class="text-[10px] opacity-50">Dark Synth</p></div></div><span class="text-xs opacity-50">03:02</span></div>
                        <div class="waveform-container" onclick="seekTrack(event, this)"><canvas class="waveform-canvas"></canvas><div class="progress-overlay"></div></div>
                    </div>
                </div>
            </div>
            <audio id="lab-audio-player" class="hidden"></audio>
        </section>

        <section class="col-span-12 glass-panel">
            <div class="win-header"><span class="win-title">Reference_Library</span></div>
            <div class="p-8 grid grid-cols-1 md:grid-cols-2 gap-12">
                <div>
                    <h4 class="text-xs font-bold text-[var(--accent-color)] uppercase mb-4 border-b border-white/10 pb-2">Films / S√©ries</h4>
                    <div class="space-y-4">
                        <a href="https://www.imdb.com/title/tt0903747/" target="_blank" class="inspi-link"><div class="inspi-card"><img src="pluribus.webp" class="inspi-img"><div><h5 class="font-bold text-sm">Pluribus</h5><p class="text-[10px] opacity-60">SF Minimaliste</p></div></div></a>
                        <a href="https://www.imdb.com/title/tt1190634/" target="_blank" class="inspi-link"><div class="inspi-card"><img src="theboys.webp" class="inspi-img"><div><h5 class="font-bold text-sm">The Boys</h5><p class="text-[10px] opacity-60">Sound Design</p></div></div></a>
                        <a href="https://www.imdb.com/title/tt6751668/" target="_blank" class="inspi-link"><div class="inspi-card"><img src="parasite.webp" class="inspi-img"><div><h5 class="font-bold text-sm">Parasite</h5><p class="text-[10px] opacity-60">Baroque</p></div></div></a>
                    </div>
                </div>
                <div>
                    <h4 class="text-xs font-bold text-[var(--accent-color)] uppercase mb-4 border-b border-white/10 pb-2">Albums</h4>
                     <div class="space-y-4">
                        <a href="https://www.discogs.com/artist/191828-Mike-Dean" target="_blank" class="inspi-link"><div class="inspi-card"><img src="425.webp" class="inspi-img"><div><h5 class="font-bold text-sm">Mike Dean "425"</h5><p class="text-[10px] opacity-60">Synth√©tique</p></div></div></a>
                        <a href="#" target="_blank" class="inspi-link"><div class="inspi-card"><img src="ftp.webp" class="inspi-img"><div><h5 class="font-bold text-sm">Femtogo</h5><p class="text-[10px] opacity-60">Jazz/Rap</p></div></div></a>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="col-span-12 glass-panel p-0 text-center mb-32 overflow-hidden">
            <div class="win-header w-full"><span class="win-title">Contact.app</span></div>
            <div class="bg-[var(--accent-color)]/10 border-b border-[var(--accent-color)]/20 py-2">
                <div class="whitespace-nowrap flex animate-[marquee_20s_linear_infinite]">
                    <span class="px-4 font-mono text-xs font-bold text-[var(--accent-color)]">PROCHAINEMENT : NOUVEAUX DOCUS ‚Ä¢ CLIPS EN PREPA ‚Ä¢ COURT M√âTRAGE ‚Ä¢</span>
                    <span class="px-4 font-mono text-xs font-bold text-[var(--accent-color)]">PROCHAINEMENT : NOUVEAUX DOCUS ‚Ä¢ CLIPS EN PREPA ‚Ä¢ COURT M√âTRAGE ‚Ä¢</span>
                </div>
            </div>
            <div class="p-12 flex flex-col items-center">
                 <button onclick="openVision()" class="mb-8 px-6 py-2 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 transition text-xs font-mono uppercase tracking-widest text-[var(--accent-color)] shadow-lg hover:scale-105">+ MA VISION</button>
                <div class="w-32 h-32 rounded-full border border-[var(--accent-color)]/30 p-1 mb-6"><img src="moi.png" class="w-full h-full rounded-full object-cover grayscale"></div>
                <h3 class="text-2xl font-bold mb-2">Travaillons ensemble</h3>
                <a href="mailto:jules.fremondiere@3is.fr" class="text-lg font-bold text-[var(--accent-color)] hover:underline">jules.fremondiere@3is.fr</a>
            </div>
        </section>

        <section id="sequencer" class="col-span-12 glass-panel p-0 border-[var(--accent-color)]/30 min-h-[500px]">
            <div class="win-header"><span class="win-title">Sequencer.vst</span></div>
            <div id="sequencer-inner" class="p-6">
                <div class="flex flex-wrap justify-center gap-6 mb-8">
                    <button id="play-btn" class="transport-btn w-12 h-12" onclick="togglePlay()"><svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg></button>
                    <div class="flex items-center gap-2 bg-black/40 rounded px-3 py-2 border border-white/10">
                        <input type="range" min="60" max="180" value="120" class="w-24 accent-[var(--accent-color)]" oninput="updateBpm(this.value)">
                        <span id="bpm-display" class="font-mono text-xs w-16 text-center">120 BPM</span>
                    </div>
                </div>

                <div class="flex justify-center gap-4 mb-8 bg-black/20 p-4 rounded-xl">
                    <div class="fader-group"><div class="fader-wrapper"><input type="range" orient="vertical" min="0" max="100" value="80" oninput="updateVol('kick', this.value)"></div><label class="text-[9px] mt-2 font-mono">KICK</label></div>
                    <div class="fader-group"><div class="fader-wrapper"><input type="range" orient="vertical" min="0" max="100" value="70" oninput="updateVol('snare', this.value)"></div><label class="text-[9px] mt-2 font-mono">SNAR</label></div>
                    <div class="fader-group"><div class="fader-wrapper"><input type="range" orient="vertical" min="0" max="100" value="60" oninput="updateVol('hat', this.value)"></div><label class="text-[9px] mt-2 font-mono">HATS</label></div>
                    <div class="fader-group"><div class="fader-wrapper"><input type="range" orient="vertical" min="0" max="100" value="70" oninput="updateVol('synth', this.value)"></div><label class="text-[9px] mt-2 font-mono">SYN</label></div>
                </div>

                <div class="space-y-4 overflow-x-auto pb-4 sequencer-scroll-container">
                    <div class="min-w-[600px] space-y-2">
                        <div class="flex items-center gap-4"><span class="w-10 text-[10px] font-mono font-bold text-right opacity-60">KICK</span><div class="flex-1 grid grid-cols-16 gap-1" id="track-kick"></div></div>
                        <div class="flex items-center gap-4"><span class="w-10 text-[10px] font-mono font-bold text-right opacity-60">SNAR</span><div class="flex-1 grid grid-cols-16 gap-1" id="track-snare"></div></div>
                        <div class="flex items-center gap-4"><span class="w-10 text-[10px] font-mono font-bold text-right opacity-60">HATS</span><div class="flex-1 grid grid-cols-16 gap-1" id="track-hat"></div></div>
                    </div>
                    <div class="min-w-[600px] border-t border-white/10 pt-4">
                        <div class="flex items-start gap-4">
                            <span class="w-10 text-[10px] font-mono font-bold text-right opacity-60 pt-1">SYN</span>
                            <div class="flex-1 grid grid-template-columns-16 gap-1" id="piano-roll" style="display:grid; grid-template-columns: repeat(16, 1fr); gap: 2px;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <div id="vision-modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-md transition-opacity duration-300" onclick="toggleVision()"></div>
        <div class="glass-panel w-full max-w-2xl relative z-10 transform scale-95 opacity-0 transition-all duration-300" id="vision-content">
            <div class="win-header"><span class="win-title">Vision.dmg</span><button onclick="toggleVision()" class="hover:text-white">‚úï</button></div>
            <div class="p-8 space-y-8 overflow-y-auto max-h-[80vh] custom-scrollbar">
                <div><h4 class="text-[var(--accent-color)] font-bold uppercase text-xs tracking-widest mb-3">Mat√©riel Perso</h4><div class="bg-white/5 p-3 rounded font-mono text-xs">Scarlett Focusrite 2i2 ‚Ä¢ RODE NT1A ‚Ä¢ YAMAHA HS7 ‚Ä¢ DT 990 PRO ‚Ä¢ Macbook Pro M2</div></div>
                <div><h4 class="text-[var(--accent-color)] font-bold uppercase text-xs tracking-widest mb-3">Ma√Ætrise Technique</h4><div class="space-y-3 font-mono text-xs"><div class="flex justify-between"><span>FL Studio</span><span>80%</span></div><div class="w-full bg-white/10 h-1.5 rounded"><div class="h-full bg-[var(--accent-color)]" style="width:80%"></div></div><div class="flex justify-between"><span>Ableton</span><span>75%</span></div><div class="w-full bg-white/10 h-1.5 rounded"><div class="h-full bg-[var(--accent-color)]" style="width:75%"></div></div><div class="flex justify-between"><span>Pro Tools</span><span>70%</span></div><div class="w-full bg-white/10 h-1.5 rounded"><div class="h-full bg-[var(--accent-color)]" style="width:70%"></div></div><div class="flex justify-between"><span>Premiere Pro</span><span>65%</span></div><div class="w-full bg-white/10 h-1.5 rounded"><div class="h-full bg-[var(--accent-color)]" style="width:65%"></div></div></div></div>
                 <div><h4 class="text-[var(--accent-color)] font-bold uppercase text-xs tracking-widest mb-3">Outils R√©f</h4><div class="grid grid-cols-2 gap-2 text-xs font-mono"><div class="bg-white/5 p-2 rounded border border-white/10">Sennheiser MKH 416</div><div class="bg-white/5 p-2 rounded border border-white/10">Sound Devices 633</div><div class="bg-white/5 p-2 rounded border border-white/10">Casque HD25</div><div class="bg-white/5 p-2 rounded border border-white/10">SSL 2</div></div></div>
            </div>
        </div>
    </div>

    <nav class="dock-container">
        <a href="#hero" class="dock-icon"><svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 01-1 1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg></a>
        <a href="#skills" class="dock-icon"><svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg></a>
        <a href="#lab" class="dock-icon"><svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"/></svg></a>
        <a href="#projets" class="dock-icon"><svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></a>
    </nav>

    <script>
        // --- 1. CORE & AUDIO INIT ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let isAudioUnlocked = false;

        function initAudioAndStart() {
            if(audioCtx.state === 'suspended') audioCtx.resume();
            isAudioUnlocked = true;
            document.getElementById('start-screen').classList.add('hidden-screen');
            drawLabWaveforms(); 
        }

        // UNLOCK AUDIO ON MOBILE TOUCH
        document.addEventListener('touchstart', () => {
            if (audioCtx.state === 'suspended') audioCtx.resume();
        }, { once: true });

        // --- 2. LAB AUDIO PLAYER (VISUALIZER) ---
        const labPlayer = document.createElement('audio');
        let currentLabBtn = null;
        let labAnimationId;

        function togglePlayTrack(btn) {
            const row = btn.closest('.lab-row');
            const src = row.dataset.src;
            const progress = row.querySelector('.progress-overlay');

            if(currentLabBtn && currentLabBtn !== btn) {
                labPlayer.pause();
                currentLabBtn.closest('.lab-row').classList.remove('playing');
                currentLabBtn.innerText = '‚ñ∂';
                currentLabBtn.closest('.lab-row').querySelector('.progress-overlay').style.width = '0%';
                cancelAnimationFrame(labAnimationId);
            }

            if(labPlayer.src.includes(src) && !labPlayer.paused) {
                labPlayer.pause();
                row.classList.remove('playing');
                btn.innerText = '‚ñ∂';
                cancelAnimationFrame(labAnimationId);
            } else {
                labPlayer.src = src;
                labPlayer.play().catch(e => console.log("Audio missing (demo mode)"));
                row.classList.add('playing');
                btn.innerText = '‚ùö‚ùö';
                currentLabBtn = btn;
                updateProgress(progress);
            }
        }

        function updateProgress(el) {
            if(labPlayer.paused) return;
            const pct = (labPlayer.currentTime / (labPlayer.duration || 1)) * 100;
            el.style.width = `${pct}%`;
            labAnimationId = requestAnimationFrame(() => updateProgress(el));
        }

        function seekTrack(e, container) {
            if(!currentLabBtn) return;
            const rect = container.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const pct = x / rect.width;
            labPlayer.currentTime = pct * (labPlayer.duration || 1);
        }

        function drawLabWaveforms() {
            document.querySelectorAll('.waveform-canvas').forEach(cvs => {
                const ctx = cvs.getContext('2d');
                cvs.width = cvs.parentElement.offsetWidth;
                cvs.height = 40;
                ctx.fillStyle = 'rgba(255,255,255,0.3)';
                const bars = 60;
                const gap = 2;
                const w = (cvs.width / bars) - gap;
                for(let i=0; i<bars; i++) {
                    const h = Math.random() * 20 + 5;
                    ctx.fillRect(i * (w+gap), (40-h)/2, w, h);
                }
            });
        }

        // --- 3. SEQUENCER ENGINE (SYNTHESIS) ---
        // 4. FIX: Use Synthesis to avoid loading errors
        let bpm = 120;
        let isSeqPlaying = false;
        let seqStep = 0;
        let seqInterval;
        
        const seqData = {
            KICK: Array(16).fill(false),
            SNARE: Array(16).fill(false),
            HAT: Array(16).fill(false),
            SYNTH: Array(8).fill().map(() => Array(16).fill(false))
        };
        
        const vols = { kick: 0.8, snare: 0.8, hat: 0.6, synth: 0.6 };
        function updateVol(type, val) { vols[type] = (val/100)*(val/100); }
        
        const masterBus = audioCtx.createGain();
        masterBus.gain.value = 0.5;
        masterBus.connect(audioCtx.destination);

        function triggerKick(t) {
            const osc = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            osc.connect(g); g.connect(masterBus);
            osc.frequency.setValueAtTime(150, t);
            osc.frequency.exponentialRampToValueAtTime(0.01, t + 0.5);
            g.gain.setValueAtTime(vols.kick, t);
            g.gain.exponentialRampToValueAtTime(0.01, t + 0.5);
            osc.start(t); osc.stop(t + 0.5);
        }
        function triggerSnare(t) {
            const osc = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            osc.type = 'triangle';
            osc.connect(g); g.connect(masterBus);
            g.gain.setValueAtTime(vols.snare, t);
            g.gain.exponentialRampToValueAtTime(0.01, t + 0.2);
            osc.start(t); osc.stop(t + 0.2);
            
            // Noise
            const bSize = audioCtx.sampleRate * 0.2;
            const buffer = audioCtx.createBuffer(1, bSize, audioCtx.sampleRate);
            const data = buffer.getChannelData(0);
            for (let i = 0; i < bSize; i++) data[i] = Math.random() * 2 - 1;
            const noise = audioCtx.createBufferSource();
            noise.buffer = buffer;
            const ng = audioCtx.createGain();
            noise.connect(ng); ng.connect(masterBus);
            ng.gain.setValueAtTime(vols.snare * 0.5, t);
            ng.gain.exponentialRampToValueAtTime(0.01, t + 0.2);
            noise.start(t);
        }
        function triggerHat(t) {
            const bSize = audioCtx.sampleRate * 0.05;
            const buffer = audioCtx.createBuffer(1, bSize, audioCtx.sampleRate);
            const data = buffer.getChannelData(0);
            for (let i = 0; i < bSize; i++) data[i] = Math.random() * 2 - 1;
            const noise = audioCtx.createBufferSource();
            noise.buffer = buffer;
            const f = audioCtx.createBiquadFilter(); f.type = 'highpass'; f.frequency.value = 8000;
            const g = audioCtx.createGain();
            noise.connect(f); f.connect(g); g.connect(masterBus);
            g.gain.setValueAtTime(vols.hat, t); g.gain.exponentialRampToValueAtTime(0.01, t + 0.05);
            noise.start(t);
        }
        
        const scaleFreqs = [523.25, 466.16, 392.00, 349.23, 311.13, 261.63, 233.08, 196.00];
        
        function triggerSynth(freq, t, dur) {
            const osc = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            osc.type = 'sawtooth';
            osc.frequency.value = freq;
            const f = audioCtx.createBiquadFilter(); f.type = 'lowpass'; f.frequency.value = 800;
            osc.connect(f); f.connect(g); g.connect(masterBus);
            const v = vols.synth * 0.4;
            g.gain.setValueAtTime(0, t);
            g.gain.linearRampToValueAtTime(v, t + 0.02);
            g.gain.setValueAtTime(v, t + dur - 0.05);
            g.gain.exponentialRampToValueAtTime(0.001, t + dur);
            osc.start(t); osc.stop(t + dur);
        }

        // --- 4. BUILD UI (5. MOBILE OPTIMIZED: SIMPLE TAP) ---
        // Drums
        ['KICK', 'SNARE', 'HAT'].forEach(type => {
            const container = document.getElementById(`track-${type.toLowerCase()}`);
            for(let i=0; i<16; i++) {
                const btn = document.createElement('div');
                btn.className = 'step-btn';
                btn.onclick = () => {
                    seqData[type][i] = !seqData[type][i];
                    btn.classList.toggle('active');
                    if(seqData[type][i]) { // Preview
                        if(type==='KICK') triggerKick(audioCtx.currentTime);
                        if(type==='SNARE') triggerSnare(audioCtx.currentTime);
                        if(type==='HAT') triggerHat(audioCtx.currentTime);
                    }
                };
                container.appendChild(btn);
            }
        });

        // Piano Roll
        const pianoContainer = document.getElementById('piano-roll');
        for(let r=0; r<8; r++) {
            for(let c=0; c<16; c++) {
                const cell = document.createElement('div');
                cell.className = 'piano-cell';
                cell.onclick = () => {
                    if(seqData.SYNTH[r][c]) {
                        seqData.SYNTH[r][c] = false;
                        cell.classList.remove('note-start');
                    } else {
                        seqData.SYNTH[r][c] = 1;
                        cell.classList.add('note-start');
                        triggerSynth(scaleFreqs[r], audioCtx.currentTime, 0.2);
                    }
                };
                pianoContainer.appendChild(cell);
            }
        }

        function togglePlay() {
            if(isSeqPlaying) {
                clearInterval(seqInterval);
                isSeqPlaying = false;
                document.getElementById('play-btn').classList.remove('playing');
            } else {
                if(audioCtx.state === 'suspended') audioCtx.resume();
                isSeqPlaying = true;
                document.getElementById('play-btn').classList.add('playing');
                seqInterval = setInterval(stepSequencer, (60/bpm)*1000/4);
            }
        }

        function stepSequencer() {
            const now = audioCtx.currentTime;
            const stepDur = (60/bpm)/4;
            
            if(seqData.KICK[seqStep]) triggerKick(now);
            if(seqData.SNARE[seqStep]) triggerSnare(now);
            if(seqData.HAT[seqStep]) triggerHat(now);
            
            for(let r=0; r<8; r++) {
                if(seqData.SYNTH[r][seqStep] === 1) triggerSynth(scaleFreqs[r], now, stepDur);
            }
            
            // Visual Highlight (Simplified for perf)
            const drumRows = document.querySelectorAll('.sequencer-track-row .step-btn');
            // Logic skipped to save CPU on mobile, sound is priority
            
            seqStep = (seqStep + 1) % 16;
        }

        function updateBpm(v) { 
            bpm = v; 
            document.getElementById('bpm-display').innerText = v + ' BPM';
            if(isSeqPlaying) { togglePlay(); togglePlay(); }
        }

        // --- 5. THEMES & UI UTILS ---
        setTimeout(() => { document.getElementById('start-screen').classList.add('hidden-screen'); }, 2000);
        
        function setTheme(name) {
            document.body.classList.add('switching-theme');
            setTimeout(() => document.body.classList.remove('switching-theme'), 500);
            
            document.body.classList.remove('light-mode');
            if(name === 'ableton') document.body.classList.add('light-mode');
            
            const accent = name === 'fl' ? '#22c55e' : (name === 'ableton' ? '#fb923c' : '#a855f7');
            document.documentElement.style.setProperty('--accent-color', accent);
            
            document.getElementById('theme-bg').style.backgroundImage = `url('${name}.png')`;
        }

        function toggleVision() {
            const modal = document.getElementById('vision-modal');
            const content = document.getElementById('vision-content');
            if(modal.classList.contains('hidden')) {
                modal.classList.remove('hidden');
                setTimeout(() => { modal.classList.remove('opacity-0'); content.classList.remove('scale-95', 'opacity-0'); }, 10);
            } else {
                modal.classList.add('opacity-0');
                content.classList.add('scale-95', 'opacity-0');
                setTimeout(() => modal.classList.add('hidden'), 300);
            }
        }

        function setVh() {
            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        window.addEventListener('resize', setVh);
        setVh();
        
        // Init
        setTheme('fl');
    </script>
</body>
</html>
